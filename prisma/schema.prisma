// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Warehouses {
  warehouse_id   String @id @db.Char(36)
  name           String @db.VarChar(255)
  location       String
  unique_code    Int?
  status         String @db.VarChar(255) @default("inactive")
  capacity       Int @default(0)
  total_capacity Int @default(0)
  sections       Sections[]
  created_at     DateTime   @default(now())
  updated_at     DateTime   @default(now())
}

model Sections {
  section_id    String @id @db.Char(36)
  name          String @db.VarChar(255)
  capacity      Int @default(0)
  warehouses    Warehouses @relation(fields: [warehouse_id], references: [warehouse_id])
  warehouse_id  String @db.Char(36)
  is_deleted    Int @default(0)
  products      Products[]
  created_at    DateTime   @default(now())
  updated_at    DateTime   @default(now())
}

model Categories {
  category_id    String @id @db.Char(36)
  name          String @db.VarChar(255)
  created_at    DateTime   @default(now())
  updated_at    DateTime   @default(now())
  products       Products[]
}

model Products {
  product_id    String @id @db.Char(36)
  name          String @db.VarChar(255)
  quantity      Int @default(0)
  categories    Categories @relation(fields: [category_id], references: [category_id])
  category_id   String @db.Char(36)
  sections      Sections @relation(fields: [section_id], references: [section_id])
  section_id    String @db.Char(36)
  created_at    DateTime   @default(now())
  updated_at    DateTime   @default(now())
}

model Users {
  user_id       String @id @db.Char(36)
  username      String @db.VarChar(255) @unique
  password      String @db.VarChar(255)
  created_at    DateTime   @default(now())
  updated_at    DateTime   @default(now())
}

model Logs {
  id            Int @id @default(autoincrement())
  data          String @db.VarChar(255)
  created_at    DateTime   @default(now())
  updated_at    DateTime   @default(now())
}